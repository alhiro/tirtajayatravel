<div class="p-10">
  <span class="small"
    >{{ data?.updated_by ? data?.updated_by : data?.created_by }},
    {{ nowDate | date : 'EEEE yyyy/MM/dd H:mm:ss a' }}</span
  >
  <div class="card-header border-0 pt-5" style="display: flex; justify-content: space-between">
    <div class="card-toolbar">
      <div class="col">
        <!-- begin::Menu -->
        <div class="menu-item">
          <div class="menu-content px-0">
            <h3 class="card-title align-items-start flex-column">
              <span class="card-label fw-bolder fs-3 mb-1">
                @if (data.city_id === 1) { SURAT PENGANTAR PAKET MALANG } @else { SURAT PENGANTAR PAKET SURABAYA }
              </span>
            </h3>
          </div>
        </div>
        <!-- end::Menu -->
      </div>
    </div>
    <div class="card-toolbar">
      <div class="col text-end">
        <!-- begin::Menu -->
        <div class="menu-item px-3">
          <div class="menu-content px-3 py-3">
            <span>Send Date: {{ data?.send_date | date : 'yyyy/MM/dd H:mm:ss a' : 'GMT' }}</span
            ><br />
            <h3>
              <b>{{ data?.sp_package }}</b>
            </h3>
          </div>
        </div>
        <!-- end::Menu -->
      </div>
    </div>
  </div>
  <!-- end::Header -->
  <!-- begin::Body -->
  <div class="card-body py-3">
    <!-- begin::Table container -->
    <div class="table-responsive">
      <!-- begin::Table -->
      <ngx-table
        #table
        [configuration]="configuration"
        [data]="dataPackages"
        [columns]="columnsPackage"
        tableClass="table table-row-bordered table-row-gray-100 align-middle gs-0 gy-3"
      >
        <ng-template let-row let-index="index">
          <!-- <td>
          <span class="text-gray-900 d-block">{{ row.category_sub_id }}</span>
        </td> -->
          <td>
            <span class="text-gray-900 fw-bolder text-hover-primary fs-6">
              {{ row.resi_number }}
            </span>
          </td>
          <td>
            <span class="text-gray-900 d-block">
              {{ row.recipient.customer.name }}
            </span>
          </td>
          <td>
            <span class="text-gray-900 d-block">
              @if (row.recipient.customer.addresses) { @for (value of row.recipient.customer.addresses; track value) {
              @if (value.default == true) {
              {{ value.address }}
              } } } @else {
              {{ row.recipient.customer.address }}
              }
            </span>
          </td>
          <td>
            <span class="text-gray-900 d-block">
              {{ row.cost | currency : 'Rp ' : true : '4.0-2' }}
            </span>
          </td>
          <td>
            <span class="text-gray-900 d-block">
              {{ row.note }}
            </span>
          </td>
          <td>
            <span class="text-gray-900 d-block">
              {{ row.status }}
            </span>
          </td>
          <td>
            <span class="text-gray-900 d-block">
              {{ row.koli }}
            </span>
          </td>
          <td>
            <span class="text-gray-900 d-block">
              {{ row.description }}
            </span>
          </td>
        </ng-template>
      </ngx-table>
      <!-- end::Table -->
    </div>
    <!-- end::Table container -->

    <div class="mt-7">
      <span>Total Cost: {{ totalCost | currency : 'Rp ' : true : '4.0-2' }}</span
      ><br />
      <span>Total Koli: {{ totalKoli }}</span>
    </div>
  </div>
</div>
