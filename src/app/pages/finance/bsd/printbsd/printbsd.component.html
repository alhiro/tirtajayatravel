<div class="p-10">
  <span class="small"
    >{{ data?.updated_by ? data?.updated_by : data?.created_by }},
    {{ nowDate | date : 'EEEE yyyy/MM/dd H:mm:ss a' }}</span
  >
  @if (type ==='Passenger') {
  <div class="m-0">
    <div class="card-header border-0 py-3">
      <div class="card-toolbar">
        <div class="col text-center">
          <!-- begin::Menu -->
          <div class="menu-item">
            <div class="menu-content px-0">
              <h2 class="card-title">
                <span class="card-label fw-bolder fs-1"> BSD PENUMPANG ({{ data?.bsd_passenger }}) </span>
              </h2>
            </div>
          </div>
          <!-- end::Menu -->
        </div>
      </div>
    </div>
    <!-- end::Header -->
    <!-- begin::Body -->
    <div class="card-body py-3">
      <!--begin::Row-->
      <div class="row g-5 g-xl-10">
        <!--begin::Col-->
        <div class="col-md-4 col-lg-4 col-xl-4 col-xxl-3">
          <!--begin::Card body-->
          <div class="card-body pt-0">
            <span>Driver: {{ data?.employee?.name }} - ({{ data?.car?.car_number }})</span>
          </div>
          <!--end::Card body-->
        </div>
        <!--end::Col-->

        <!--begin::Col-->
        <div class="col-md-4 col-lg-4 col-xl-4 col-xxl-3">
          <!--begin::Card body-->
          <div class="card-body pt-0 text-center">
            <span>Send Date: {{ data?.send_date | date : 'yyyy/MM/dd H:mm:ss a' : 'GMT' }}</span>
          </div>
          <!--end::Card body-->
        </div>
        <!--end::Col-->

        <!--begin::Col-->
        <div class="col-md-4 col-lg-4 col-xl-4 col-xxl-3">
          <!--begin::Card body-->
          <div class="card-body pt-0 text-end">
            <span class="fs-5">
              <b>No. SP: {{ data?.sp_passenger }}</b>
            </span>
          </div>
          <!--end::Card body-->
        </div>
        <!--end::Col-->
      </div>
      <!--end::Row-->

      @if (dataMalangPassenger.length > 0) {
      <!-- begin::Table container -->
      <div class="table-responsive">
        <!-- begin::Table -->
        <ngx-table
          #table
          [configuration]="configuration"
          [data]="dataMalangPassenger"
          [columns]="columnsPassenger"
          tableClass="table table-row-bordered table-row-gray-100 align-middle gs-0 gy-3"
        >
          <ng-template let-row let-index="index">
            <!-- <td>
                  <span class="text-gray-900 d-block">{{ row.category_sub_id }}</span>
                </td> -->
            <td>
              <span class="text-gray-900 fw-bolder text-hover-primary fs-6">
                {{ row.resi_number }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.tariff }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.koli }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.payment }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                <app-keenicon name="check" class="fs-md-3 text-primary"></app-keenicon>
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.payment }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                <app-keenicon name="check" class="fs-md-3 text-primary"></app-keenicon>
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.agent_commission }}
              </span>
            </td>
          </ng-template>
        </ngx-table>
        <!-- end::Table -->
      </div>
      <!-- end::Table container -->
      } @if (dataSurabayaPassenger.length > 0) {
      <!-- begin::Table container -->
      <div class="table-responsive mt-7">
        <!-- begin::Table -->
        <ngx-table
          #table
          [configuration]="configuration"
          [data]="dataSurabayaPassenger"
          [columns]="columnsPassenger"
          tableClass="table table-row-bordered table-row-gray-100 align-middle gs-0 gy-3"
        >
          <ng-template let-row let-index="index">
            <!-- <td>
                  <span class="text-gray-900 d-block">{{ row.category_sub_id }}</span>
                </td> -->
            <td>
              <span class="text-gray-900 fw-bolder text-hover-primary fs-6">
                {{ row.resi_number }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.tariff }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.koli }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.payment }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                <app-keenicon name="check" class="fs-md-3 text-primary"></app-keenicon>
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.payment }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                <app-keenicon name="check" class="fs-md-3 text-primary"></app-keenicon>
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.agent_commission }}
              </span>
            </td>
          </ng-template>
        </ngx-table>
        <!-- end::Table -->
      </div>
      <!-- end::Table container -->
      }

      <!--begin::Row-->
      <div class="row g-5 g-xl-10">
        <!--begin::Col-->
        <div class="col-md-6 col-lg-6 col-xl-6 col-xxl-3">
          <!--begin::Card body-->
          <div class="card-body d-flex align-items-end pt-0">
            <div class="mt-7">
              <b>Total Passengers</b>: {{ totalPassenger | number }}<br />
              <b>Total Remaining Payment</b>: {{ totalTariff | currency : 'Rp ' : true : '1.0-2' }}<br />
              <b>Total Commssion Driver</b>: {{ totalCommissionPassenger | currency : 'Rp ' : true : '1.0-2' }}
            </div>

            <div class="mt-3">
              <b>DEBET</b><br />
              <b>Total Remaining Payment</b>: {{ totalTariff | currency : 'Rp ' : true : '1.0-2' }}<br />
              <b>Total Mandatory Deposit</b>: {{ mandatoryDeposit | currency : 'Rp ' : true : '1.0-2' }}<br />
              <b>Total Driver Deposit</b>: {{ depositDriver | currency : 'Rp ' : true : '1.0-2' }}<br />
              <b>Total Voluntary Deposit</b>: {{ voluntaryDeposit | currency : 'Rp ' : true : '1.0-2' }}
            </div>

            <hr />

            <div class="mt-0">
              <b>Old KM Full</b>: {{ oldFullKm | number }}<br />
              <b>Current KM Full</b>: {{ currentFullKm | number }}<br />
              <b>Different In KM</b>: {{ differentInKm | number }}<br />
              <b>Average KM/L</b>: {{ averageKm | number }}
            </div>
          </div>
          <!--end::Card body-->
        </div>
        <!--end::Col-->

        <!--begin::Col-->
        <div class="col-md-6 col-lg-6 col-xl-6 col-xxl-3">
          <!--begin::Card body-->
          <div class="card-body d-flex align-items-end pt-0">
            <div class="mt-3">
              <b>KREDIT</b><br />
              <b>Total Commssion Driver</b>: {{ totalCommissionPassenger | currency : 'Rp ' : true : '1.0-2' }} <br />
              <b>BBM</b>: {{ bbm | currency : 'Rp ' : true : '1.0-2' }}<br />
              <b>Parking</b>: {{ totalParkingPassenger | currency : 'Rp ' : true : '1.0-2' }}<br />
              <b>In Toll</b>: {{ inToll | currency : 'Rp ' : true : '1.0-2' }}<br />
              <b>Out Toll</b>: {{ outToll | currency : 'Rp ' : true : '1.0-2' }}<br />
              <b>Extra</b>: {{ extra | currency : 'Rp ' : true : '1.0-2' }}<br />
              <b>Others</b>: {{ others | currency : 'Rp ' : true : '1.0-2' }}
            </div>

            <div class="mt-3">
              <b>TOTAL DEBET</b>: {{ totalDebetPassenger | currency : 'Rp ' : true : '1.0-2' }}<br />
              <b>TOTAL KREDIT</b>: {{ totalKreditPassenger | currency : 'Rp ' : true : '1.0-2' }}<br />
              <b>TOTAL DEPOSIT OFFICE</b>: {{ totalDepositOffice | currency : 'Rp ' : true : '1.0-2' }}<br />
              <span class="fs-1"
                ><b>DRIVER DEPOSIT: {{ totalDepositDriverPassenger | currency : 'Rp ' : true : '1.0-2' }}</b></span
              >
            </div>
          </div>
          <!--end::Card body-->
        </div>
        <!--end::Col-->
      </div>
      <!--end::Row-->
    </div>
  </div>
  } @if (type ==='Package') {
  <div class="m-0">
    <div class="card-header border-0 py-3">
      <div class="card-toolbar">
        <div class="col text-center">
          <!-- begin::Menu -->
          <div class="menu-item">
            <div class="menu-content px-0">
              <h2 class="card-title">
                <span class="card-label fw-bolder fs-1"> BSD PACKAGE ({{ data?.bsd }}) </span>
              </h2>
            </div>
          </div>
          <!-- end::Menu -->
        </div>
      </div>
    </div>
    <!-- end::Header -->
    <!-- begin::Body -->
    <div class="card-body py-3">
      <!--begin::Row-->
      <div class="row g-5 g-xl-10">
        <!--begin::Col-->
        <div class="col-md-4 col-lg-4 col-xl-4 col-xxl-3">
          <!--begin::Card body-->
          <div class="card-body pt-0">
            <span>Driver: {{ data?.employee?.name }} - ({{ data?.car?.car_number }})</span>
          </div>
          <!--end::Card body-->
        </div>
        <!--end::Col-->

        <!--begin::Col-->
        <div class="col-md-4 col-lg-4 col-xl-4 col-xxl-3">
          <!--begin::Card body-->
          <div class="card-body pt-0 text-center">
            <span>Send Date: {{ data?.send_date | date : 'yyyy/MM/dd H:mm:ss a' : 'GMT' }}</span>
          </div>
          <!--end::Card body-->
        </div>
        <!--end::Col-->

        <!--begin::Col-->
        <div class="col-md-4 col-lg-4 col-xl-4 col-xxl-3">
          <!--begin::Card body-->
          <div class="card-body pt-0 text-end">
            <span class="fs-5">
              <b>No. SP: {{ data?.sp_package }}</b>
            </span>
          </div>
          <!--end::Card body-->
        </div>
        <!--end::Col-->
      </div>
      <!--end::Row-->

      @if (dataMalangPackage.length > 0) {
      <!-- begin::Table container -->
      <div class="table-responsive">
        <!-- begin::Table -->
        <ngx-table
          #table
          [configuration]="configuration"
          [data]="dataMalangPackage"
          [columns]="columnsPackage"
          tableClass="table table-row-bordered table-row-gray-100 align-middle gs-0 gy-3"
        >
          <ng-template let-row let-index="index">
            <!-- <td>
                <span class="text-gray-900 d-block">{{ row.category_sub_id }}</span>
              </td> -->
            <td>
              <span class="text-gray-900 fw-bolder text-hover-primary fs-6">
                {{ row.resi_number }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.recipient?.address }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.origin_from }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.status }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                <!-- <app-keenicon name="check" class="fs-md-3 text-primary"></app-keenicon> -->
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.cost | currency : 'Rp ' : true : '1.0-2' }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                <!-- <app-keenicon name="check" class="fs-md-3 text-primary"></app-keenicon> -->
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.agent_commission | currency : 'Rp ' : true : '1.0-2' }}
              </span>
            </td>
          </ng-template>
        </ngx-table>
        <!-- end::Table -->
      </div>
      <!-- end::Table container -->
      } @if (dataSurabayaPackage.length > 0) {
      <!-- begin::Table container -->
      <div class="table-responsive mt-7">
        <!-- begin::Table -->
        <ngx-table
          #table
          [configuration]="configuration"
          [data]="dataSurabayaPackage"
          [columns]="columnsPackage"
          tableClass="table table-row-bordered table-row-gray-100 align-middle gs-0 gy-3"
        >
          <ng-template let-row let-index="index">
            <!-- <td>
                <span class="text-gray-900 d-block">{{ row.category_sub_id }}</span>
              </td> -->
            <td>
              <span class="text-gray-900 fw-bolder text-hover-primary fs-6">
                {{ row.resi_number }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.recipient?.address }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.origin_from }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.status }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                <!-- <app-keenicon name="check" class="fs-md-3 text-primary"></app-keenicon> -->
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.cost | currency : 'Rp ' : true : '1.0-2' }}
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                <!-- <app-keenicon name="check" class="fs-md-3 text-primary"></app-keenicon> -->
              </span>
            </td>
            <td>
              <span class="text-gray-900 d-block">
                {{ row.agent_commission | currency : 'Rp ' : true : '1.0-2' }}
              </span>
            </td>
          </ng-template>
        </ngx-table>
        <!-- end::Table -->
      </div>
      <!-- end::Table container -->
      }

      <div class="mt-7">
        <b>Total Deposit</b>: {{ totalCost | currency : 'Rp ' : true : '1.0-2' }}<br />
        <b>Total Commssion Driver</b>: {{ totalCommissionPackage | currency : 'Rp ' : true : '1.0-2' }}
      </div>

      <div class="mt-3">
        <b>DEBET</b><br />
        <b>Total Deposit</b>: {{ totalCost | currency : 'Rp ' : true : '1.0-2' }}
      </div>

      <div class="mt-3">
        <b>KREDIT</b><br />
        <b>Total Commssion Driver</b>: {{ totalCommissionPackage | currency : 'Rp ' : true : '1.0-2' }} <br />
        <b>Parking</b>: {{ totalParkingPackage | currency : 'Rp ' : true : '1.0-2' }}
      </div>

      <div class="mt-3">
        <b>TOTAL DEBET</b>: {{ totalDebetPackage | currency : 'Rp ' : true : '1.0-2' }}<br />
        <b>TOTAL KREDIT</b>: {{ totalKreditPackage | currency : 'Rp ' : true : '1.0-2' }}<br />
        <b>TOTAL DEPOSIT DRIVER</b>: {{ totalDepositDriverPackage | currency : 'Rp ' : true : '1.0-2' }}
      </div>
    </div>
  </div>
  }
</div>
